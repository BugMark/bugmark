= breadcrumb [%w(BugMark /docfix/home), "Contracts"]

h2 Contracts (#{@contracts.count})

b Check out the running contracts to get an impression of the trading volume
  going on on BugMark.  filter this view by your preferences, add contracts
  to your watchlist in case they influence an issue you want to invest in
  or make new investments.  You can also resell your own contracts.

div[style='background: lightgrey; margin-top: 10px; margin-bottom: 10px; padding: 20px;']
  = bootstrap_form_for(@query, url: '/docfix/contracts', method: 'get') do |f|
    .row
      .col-md-4
        = f.text_field :readme_qry  , label: raw("<b>Free-text search</b>")
      .col-md-4
        = f.text_field :language_qry , label: raw("<b>Project languages</b>")
      .col-md-4
        p[style='margin-top: 30px;']
          = f.submit "SEARCH"

- @contracts.each do |contract|
  .row
    .col-md-4
      h4
        a[href="/docfix/contracts/#{contract.id}"] Contract #{contract.id}
    .col-md-2
      b Maturation date
    .col-md-2
      b Contract volume
    .col-md-2
      b Price per unit
    .col-md-2
      b Actions
  .row
    .col-md-4
      | TBD
    .col-md-2
      | TBD
    .col-md-2
      | TBD
    .col-md-2
      | TBD
    .col-md-2
      | TBD
  hr

.text-center[style='margin-top: 30px;']
  = will_paginate @contracts, container: false